{
  "metadata": {
    "config": {
      "backend": {
        "_target_": "cotlab.backends.TransformersBackend",
        "device": "cuda",
        "dtype": "bfloat16",
        "enable_hooks": true,
        "trust_remote_code": true
      },
      "model": {
        "name": "google/medgemma-27b-text-it",
        "variant": "27b-text",
        "max_new_tokens": 512,
        "temperature": 0.7,
        "top_p": 0.9
      },
      "prompt": {
        "_target_": "cotlab.prompts.strategies.ContrarianStrategy",
        "name": "contrarian"
      },
      "dataset": {
        "_target_": "cotlab.datasets.PatchingPairsDataset",
        "name": "patching_pairs",
        "path": "data/Patching_Pairs_Data.csv"
      },
      "experiment": {
        "_target_": "cotlab.experiments.LogitLensExperiment",
        "name": "logit_lens",
        "description": "Visualize layer-by-layer token predictions",
        "top_k": 5,
        "question": "Patient presents with chest pain, sweating, and shortness of breath. What is the diagnosis?"
      },
      "seed": 42,
      "verbose": true,
      "dry_run": false
    },
    "start_time": "2025-12-25T10:39:31.463502"
  },
  "experiment": "logit_lens",
  "model": "google/medgemma-27b-text-it",
  "prompt_strategy": "contrarian",
  "metrics": {
    "final_prediction": "\n\n",
    "num_layers_analyzed": 62,
    "emergence_layer": null,
    "emergence_rank": null
  },
  "raw_outputs": [
    {
      "layer": 0,
      "top_tokens": [
        "CasePTV",
        "CollinToDO",
        "MalayMarks",
        "CaseMissense",
        "DenovoMis"
      ],
      "top_probs": [
        0.5859375,
        0.21484375,
        0.0791015625,
        0.0291748046875,
        0.0257568359375
      ]
    },
    {
      "layer": 1,
      "top_tokens": [
        "\u099c\u09cd",
        "\u1f64",
        "\u0cae\u0ccd",
        " \u0d07\u0d24\u0d4d",
        " danos"
      ],
      "top_probs": [
        2.9206275939941406e-05,
        2.9206275939941406e-05,
        2.8371810913085938e-05,
        2.7060508728027344e-05,
        2.5033950805664062e-05
      ]
    },
    {
      "layer": 2,
      "top_tokens": [
        "\ufe8e",
        "\u24d4",
        "\u0bb6",
        "\u0cae\u0ccd",
        "\u1255"
      ],
      "top_probs": [
        0.00010061264038085938,
        9.584426879882812e-05,
        8.106231689453125e-05,
        7.963180541992188e-05,
        7.581710815429688e-05
      ]
    },
    {
      "layer": 3,
      "top_tokens": [
        "<unused1155>",
        "<unused273>",
        "<unused513>",
        "<unused679>",
        "\u92c6"
      ],
      "top_probs": [
        0.000102996826171875,
        0.00010013580322265625,
        8.535385131835938e-05,
        8.296966552734375e-05,
        7.43865966796875e-05
      ]
    },
    {
      "layer": 4,
      "top_tokens": [
        "\u0c83",
        "\u1255",
        "\u1585",
        " ngok",
        "\u0e99"
      ],
      "top_probs": [
        0.361328125,
        0.193359375,
        0.103515625,
        0.103515625,
        0.043212890625
      ]
    },
    {
      "layer": 5,
      "top_tokens": [
        "\u0c83",
        "\u1585",
        " ngok",
        "\ufe8e",
        "\u0bb6"
      ],
      "top_probs": [
        0.000614166259765625,
        0.000576019287109375,
        0.000396728515625,
        0.0003185272216796875,
        0.0002803802490234375
      ]
    },
    {
      "layer": 6,
      "top_tokens": [
        "a",
        "\u05d4",
        "\u0644",
        "\u0420",
        "g"
      ],
      "top_probs": [
        0.0004520416259765625,
        0.0002574920654296875,
        0.000194549560546875,
        0.000156402587890625,
        0.0001468658447265625
      ]
    },
    {
      "layer": 7,
      "top_tokens": [
        "\ufffd",
        "\u0649",
        "\ufffd",
        "\u0645\u0627",
        " \u30a8"
      ],
      "top_probs": [
        0.154296875,
        0.00677490234375,
        0.00677490234375,
        0.004974365234375,
        0.004119873046875
      ]
    },
    {
      "layer": 8,
      "top_tokens": [
        "CasePTV",
        "CollinToDO",
        "posTocco",
        "CaseMissense",
        " PLDNN"
      ],
      "top_probs": [
        0.98046875,
        0.0179443359375,
        0.0003299713134765625,
        2.7060508728027344e-05,
        3.6656856536865234e-06
      ]
    },
    {
      "layer": 9,
      "top_tokens": [
        "CasePTV",
        "CollinToDO",
        "posTocco",
        "MalayMarks",
        "CaseMissense"
      ],
      "top_probs": [
        1.0,
        0.000911712646484375,
        1.525040715932846e-08,
        1.525040715932846e-08,
        5.587935447692871e-09
      ]
    },
    {
      "layer": 10,
      "top_tokens": [
        "CasePTV",
        "CollinToDO",
        "posTocco",
        "CaseMissense",
        "MalayMarks"
      ],
      "top_probs": [
        0.96875,
        0.029296875,
        0.000885009765625,
        0.000324249267578125,
        0.00019741058349609375
      ]
    },
    {
      "layer": 11,
      "top_tokens": [
        "MLLoader",
        "hilangan",
        "<unused98>",
        "\u00b8",
        " \u06a9\u0631\u0633\u06a9\u062a\u06d2"
      ],
      "top_probs": [
        0.0018768310546875,
        0.00176239013671875,
        0.00165557861328125,
        0.00146484375,
        0.0009765625
      ]
    },
    {
      "layer": 12,
      "top_tokens": [
        "<unused1039>",
        "<unused1176>",
        "<unused1131>",
        "<unused1095>",
        "<unused1094>"
      ],
      "top_probs": [
        0.287109375,
        0.134765625,
        0.10546875,
        0.10546875,
        0.0498046875
      ]
    },
    {
      "layer": 13,
      "top_tokens": [
        "<unused1095>",
        "<unused1094>",
        "<unused179>",
        "<unused1176>",
        "<unused1039>"
      ],
      "top_probs": [
        0.287109375,
        0.173828125,
        0.173828125,
        0.10546875,
        0.10546875
      ]
    },
    {
      "layer": 14,
      "top_tokens": [
        "CasePTV",
        "CollinToDO",
        "MalayMarks",
        "CaseMissense",
        "ControlPTV"
      ],
      "top_probs": [
        0.99609375,
        0.002471923828125,
        0.0003337860107421875,
        3.0547380447387695e-07,
        1.1222437024116516e-07
      ]
    },
    {
      "layer": 15,
      "top_tokens": [
        "CasePTV",
        "MalayMarks",
        "CollinToDO",
        "ControlPTV",
        "CaseMissense"
      ],
      "top_probs": [
        1.0,
        0.000911712646484375,
        0.000911712646484375,
        3.0547380447387695e-07,
        1.1222437024116516e-07
      ]
    },
    {
      "layer": 16,
      "top_tokens": [
        "CasePTV",
        "CollinToDO",
        "MalayMarks",
        "CaseMissense",
        "ControlPTV"
      ],
      "top_probs": [
        1.0,
        1.126900315284729e-07,
        2.7830537874251604e-10,
        4.255493527005605e-18,
        5.759824041329242e-19
      ]
    },
    {
      "layer": 17,
      "top_tokens": [
        "CasePTV",
        "CollinToDO",
        "posTocco",
        "MalayMarks",
        "CaseMissense"
      ],
      "top_probs": [
        1.0,
        6.139278411865234e-06,
        3.774403012357652e-11,
        3.774403012357652e-11,
        5.115907697472721e-12
      ]
    },
    {
      "layer": 18,
      "top_tokens": [
        "CasePTV",
        "CollinToDO",
        "CaseMissense",
        "MalayMarks",
        "DenovoMis"
      ],
      "top_probs": [
        0.98828125,
        0.010986328125,
        0.0009002685546875,
        0.00020122528076171875,
        7.390975952148438e-05
      ]
    },
    {
      "layer": 19,
      "top_tokens": [
        "CasePTV",
        "CollinToDO",
        "posTocco",
        "CaseMissense",
        "MalayMarks"
      ],
      "top_probs": [
        1.0,
        1.6689300537109375e-05,
        5.617039278149605e-09,
        2.7830537874251604e-10,
        3.774403012357652e-11
      ]
    },
    {
      "layer": 20,
      "top_tokens": [
        "CasePTV",
        "CollinToDO",
        "posTocco",
        "ControlPTV",
        " subTestAvg"
      ],
      "top_probs": [
        0.9375,
        0.036376953125,
        0.0172119140625,
        0.0018157958984375,
        0.00141143798828125
      ]
    },
    {
      "layer": 21,
      "top_tokens": [
        "CasePTV",
        "sscType",
        "CollinToDO",
        "posTocco",
        "\ud808\udd32"
      ],
      "top_probs": [
        0.5,
        0.5,
        0.0001678466796875,
        2.2649765014648438e-05,
        8.344650268554688e-06
      ]
    },
    {
      "layer": 22,
      "top_tokens": [
        "CasePTV",
        "MalayMarks",
        "CollinToDO",
        "CaseMissense",
        "ControlPTV"
      ],
      "top_probs": [
        1.0,
        0.000335693359375,
        1.126900315284729e-07,
        5.115907697472721e-12,
        5.115907697472721e-12
      ]
    },
    {
      "layer": 23,
      "top_tokens": [
        "CasePTV",
        "MalayMarks",
        "CollinToDO",
        "DenovoMis",
        "ControlPTV"
      ],
      "top_probs": [
        0.99609375,
        0.002471923828125,
        1.1222437024116516e-07,
        3.774403012357652e-11,
        5.087485988042317e-12
      ]
    },
    {
      "layer": 24,
      "top_tokens": [
        "\u0c83",
        " ngok",
        "\u1585",
        " \u0442\u043e\u043b\u044c\u043a\u0456",
        "\u0e99"
      ],
      "top_probs": [
        0.98046875,
        0.0179443359375,
        2.2724877535296173e-16,
        2.2724877535296173e-16,
        1.0323214044661785e-20
      ]
    },
    {
      "layer": 25,
      "top_tokens": [
        "MalayMarks",
        "CasePTV",
        "CollinToDO",
        "ControlPTV",
        "CaseMissense"
      ],
      "top_probs": [
        0.87890625,
        0.119140625,
        9.918585419654846e-08,
        1.3387762010097504e-08,
        1.8189894035458565e-09
      ]
    },
    {
      "layer": 26,
      "top_tokens": [
        "CasePTV",
        "CollinToDO",
        "posTocco",
        "CaseMissense",
        "MalayMarks"
      ],
      "top_probs": [
        1.0,
        6.927791673660977e-13,
        2.9335764912906377e-30,
        5.39260384428426e-32,
        1.8055593228630336e-35
      ]
    },
    {
      "layer": 27,
      "top_tokens": [
        " \u0b9a\u0bbe\u0baa\u0bcd\u0baa\u0bbf",
        " \u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0bb3",
        "\u0446\u0438\u0458\u0435",
        "\u5537",
        "ustion"
      ],
      "top_probs": [
        1.0,
        6.139278411865234e-06,
        4.1443854570388794e-08,
        2.066371962428093e-09,
        7.566995918750763e-10
      ]
    },
    {
      "layer": 28,
      "top_tokens": [
        "\u1585",
        "\u1161",
        " ngok",
        "\u0c83",
        "\u0b2b"
      ],
      "top_probs": [
        1.0,
        1.126900315284729e-07,
        1.525040715932846e-08,
        6.927791673660977e-13,
        4.255493527005605e-18
      ]
    },
    {
      "layer": 29,
      "top_tokens": [
        "CasePTV",
        "CollinToDO",
        "posTocco",
        "MalayMarks",
        "CaseMissense"
      ],
      "top_probs": [
        1.0,
        3.774403012357652e-11,
        8.734267942607043e-27,
        2.9335764912906377e-30,
        2.9335764912906377e-30
      ]
    },
    {
      "layer": 30,
      "top_tokens": [
        "CasePTV",
        "CollinToDO",
        "MalayMarks",
        "<eos>",
        "<pad>"
      ],
      "top_probs": [
        1.0,
        1.2656542480726785e-14,
        5.39260384428426e-32,
        0.0,
        0.0
      ]
    },
    {
      "layer": 31,
      "top_tokens": [
        "MalayMarks",
        "CollinToDO",
        "CaseMissense",
        "CasePTV",
        "ControlPTV"
      ],
      "top_probs": [
        0.87890625,
        0.119140625,
        0.0002956390380859375,
        0.0002956390380859375,
        1.3387762010097504e-08
      ]
    },
    {
      "layer": 32,
      "top_tokens": [
        "CasePTV",
        "MalayMarks",
        "ControlPTV",
        "CollinToDO",
        "DenovoMis"
      ],
      "top_probs": [
        1.0,
        9.370282327836321e-14,
        4.255493527005605e-18,
        4.255493527005605e-18,
        1.9273308272485545e-22
      ]
    },
    {
      "layer": 33,
      "top_tokens": [
        "<unused179>",
        "<unused1094>",
        "<unused1095>",
        "<unused1039>",
        "<unused1177>"
      ],
      "top_probs": [
        1.0,
        0.000335693359375,
        2.066371962428093e-09,
        3.774403012357652e-11,
        4.255493527005605e-18
      ]
    },
    {
      "layer": 34,
      "top_tokens": [
        "<unused179>",
        "<unused1095>",
        "<unused1044>",
        "<unused1177>",
        "<unused1078>"
      ],
      "top_probs": [
        1.0,
        4.255493527005605e-18,
        1.4227506535912076e-21,
        1.8055593228630336e-35,
        1.8055593228630336e-35
      ]
    },
    {
      "layer": 35,
      "top_tokens": [
        "<unused618>",
        " localVarHTTP",
        "<unused1017>",
        "<unused1915>",
        "prung"
      ],
      "top_probs": [
        0.84375,
        0.1142578125,
        0.01544189453125,
        0.01544189453125,
        0.00567626953125
      ]
    },
    {
      "layer": 36,
      "top_tokens": [
        " \u06a9\u0627\u06a9\u0631\u0648\u0686",
        "sscType",
        " \u0d28\u0d2e\u0d03",
        "\u0405",
        "<pad>"
      ],
      "top_probs": [
        1.0,
        4.782137916322191e-25,
        6.06114274642742e-39,
        9.183549615799121e-41,
        0.0
      ]
    },
    {
      "layer": 37,
      "top_tokens": [
        "<unused118>",
        "<unused179>",
        "<unused335>",
        "<unused438>",
        "<unused1176>"
      ],
      "top_probs": [
        1.0,
        0.000335693359375,
        4.5299530029296875e-05,
        6.139278411865234e-06,
        2.066371962428093e-09
      ]
    },
    {
      "layer": 38,
      "top_tokens": [
        "<unused179>",
        "<unused1078>",
        "<unused1177>",
        "<unused1001>",
        "<unused1176>"
      ],
      "top_probs": [
        1.0,
        2.066371962428093e-09,
        3.774403012357652e-11,
        3.774403012357652e-11,
        6.927791673660977e-13
      ]
    },
    {
      "layer": 39,
      "top_tokens": [
        "aryngeal",
        " aorta",
        "emorrh",
        " gastritis",
        "amyl"
      ],
      "top_probs": [
        1.0,
        4.5299530029296875e-05,
        1.2656542480726785e-14,
        7.792703114739563e-20,
        1.9273308272485545e-22
      ]
    },
    {
      "layer": 40,
      "top_tokens": [
        " cardiologist",
        " Cardi",
        "ReadToEnd",
        " hearts",
        " cardi"
      ],
      "top_probs": [
        0.9921875,
        0.006683349609375,
        3.122502256758253e-17,
        5.72594272343907e-19,
        2.1006417091906648e-19
      ]
    },
    {
      "layer": 41,
      "top_tokens": [
        "<unused1090>",
        "<unused1095>",
        "<unused1087>",
        "<unused1053>",
        "<unused1039>"
      ],
      "top_probs": [
        1.0,
        8.307397365570068e-07,
        5.759824041329242e-19,
        5.759824041329242e-19,
        7.792703114739563e-20
      ]
    },
    {
      "layer": 42,
      "top_tokens": [
        "\uba74\uc11c",
        "<unused506>",
        "\ufb51",
        "\ufb2a",
        "\uc250"
      ],
      "top_probs": [
        1.0,
        1.3869794202037156e-11,
        1.3869794202037156e-11,
        1.8758328224066645e-12,
        2.540190280342358e-13
      ]
    },
    {
      "layer": 43,
      "top_tokens": [
        "<unused1078>",
        "<unused608>",
        "<unused1095>",
        "<unused106>",
        "<unused1044>"
      ],
      "top_probs": [
        0.99609375,
        0.002471923828125,
        6.139278411865234e-06,
        1.1222437024116516e-07,
        2.7830537874251604e-10
      ]
    },
    {
      "layer": 44,
      "top_tokens": [
        "hyper",
        " hyper",
        "Hyper",
        " Hyper",
        " \u0433\u0438\u043f\u0435\u0440"
      ],
      "top_probs": [
        0.7265625,
        0.267578125,
        0.004913330078125,
        0.000244140625,
        7.457856554538012e-11
      ]
    },
    {
      "layer": 45,
      "top_tokens": [
        "<unused1095>",
        " differential",
        "<unused179>",
        "<unused1177>",
        "Differential"
      ],
      "top_probs": [
        1.0,
        1.2656542480726785e-14,
        3.144186300207963e-17,
        4.255493527005605e-18,
        1.4227506535912076e-21
      ]
    },
    {
      "layer": 46,
      "top_tokens": [
        " non",
        "\u975e",
        " Non",
        " alternativ",
        "Non"
      ],
      "top_probs": [
        1.0,
        1.053497228147536e-20,
        1.4227506535912076e-21,
        3.975119405215255e-31,
        1.8055593228630336e-35
      ]
    },
    {
      "layer": 47,
      "top_tokens": [
        " polycrystalline",
        "\u1333",
        "apanicola",
        "\u063a\u0637",
        "rench"
      ],
      "top_probs": [
        1.0,
        0.000911712646484375,
        0.000335693359375,
        0.00012302398681640625,
        0.00012302398681640625
      ]
    },
    {
      "layer": 48,
      "top_tokens": [
        "Heart",
        " heart",
        "\u5fc3",
        "\u210e",
        "heart"
      ],
      "top_probs": [
        1.0,
        5.115907697472721e-12,
        2.3245294578089215e-16,
        5.759824041329242e-19,
        2.1175823681357508e-19
      ]
    },
    {
      "layer": 49,
      "top_tokens": [
        "Rule",
        "rule",
        " rule",
        "Rules",
        " Rules"
      ],
      "top_probs": [
        1.0,
        2.7830537874251604e-10,
        2.7830537874251604e-10,
        2.3245294578089215e-16,
        1.9273308272485545e-22
      ]
    },
    {
      "layer": 50,
      "top_tokens": [
        " alternate",
        " \u0ba4\u0bca\u0bb2\u0bc8",
        "<unused242>",
        " alternativas",
        " ;,"
      ],
      "top_probs": [
        0.98046875,
        0.0179443359375,
        0.0003299713134765625,
        1.6450881958007812e-05,
        6.020069122314453e-06
      ]
    },
    {
      "layer": 51,
      "top_tokens": [
        " septic",
        " szeptember",
        " Sept",
        " z\u00e1\u0159\u00ed",
        " September"
      ],
      "top_probs": [
        1.0,
        1.6689300537109375e-05,
        6.927791673660977e-13,
        4.255493527005605e-18,
        3.864587821847745e-21
      ]
    },
    {
      "layer": 52,
      "top_tokens": [
        "<unused179>",
        "<unused1177>",
        "<unused1095>",
        "<unused1001>",
        "<unused1078>"
      ],
      "top_probs": [
        1.0,
        2.3245294578089215e-16,
        5.39260384428426e-32,
        1.8055593228630336e-35,
        6.06114274642742e-39
      ]
    },
    {
      "layer": 53,
      "top_tokens": [
        "<unused1053>",
        "<unused1093>",
        "<unused373>",
        "<unused1777>",
        "<unused1044>"
      ],
      "top_probs": [
        1.0,
        1.126900315284729e-07,
        7.566995918750763e-10,
        2.540190280342358e-13,
        1.2656542480726785e-14
      ]
    },
    {
      "layer": 54,
      "top_tokens": [
        "<unused179>",
        "<unused1078>",
        "<unused1177>",
        "<unused1039>",
        "<unused1044>"
      ],
      "top_probs": [
        1.0,
        4.255493527005605e-18,
        1.601387637598654e-28,
        1.601387637598654e-28,
        5.39260384428426e-32
      ]
    },
    {
      "layer": 55,
      "top_tokens": [
        "\u0c83",
        " \u04b2",
        "\u0d86",
        "\u1585",
        "\u0cc1\u0ca4\u0ccd\u0ca4\u0cb5\u0cc6"
      ],
      "top_probs": [
        0.98046875,
        0.0179443359375,
        6.020069122314453e-06,
        2.8842726847143244e-30,
        2.8842726847143244e-30
      ]
    },
    {
      "layer": 56,
      "top_tokens": [
        "))",
        "<bos>",
        "<pad>",
        "<unk>",
        "<eos>"
      ],
      "top_probs": [
        1.0,
        0.0,
        0.0,
        0.0,
        0.0
      ]
    },
    {
      "layer": 57,
      "top_tokens": [
        "<unused179>",
        "<unused1044>",
        "<unused1001>",
        "<eos>",
        "<pad>"
      ],
      "top_probs": [
        1.0,
        4.255493527005605e-18,
        1.601387637598654e-28,
        0.0,
        0.0
      ]
    },
    {
      "layer": 58,
      "top_tokens": [
        "<unused179>",
        "<unused2030>",
        "<unused2189>",
        "<unused1044>",
        "<pad>"
      ],
      "top_probs": [
        1.0,
        3.774403012357652e-11,
        1.4227506535912076e-21,
        1.601387637598654e-28,
        0.0
      ]
    },
    {
      "layer": 59,
      "top_tokens": [
        "\u012e",
        "<bos>",
        "<pad>",
        "<unk>",
        "<eos>"
      ],
      "top_probs": [
        1.0,
        0.0,
        0.0,
        0.0,
        0.0
      ]
    },
    {
      "layer": 60,
      "top_tokens": [
        " none",
        "<bos>",
        "<pad>",
        "<unk>",
        "<eos>"
      ],
      "top_probs": [
        1.0,
        0.0,
        0.0,
        0.0,
        0.0
      ]
    },
    {
      "layer": 61,
      "top_tokens": [
        "<unused179>",
        "<unused1177>",
        "<bos>",
        "<eos>",
        "<pad>"
      ],
      "top_probs": [
        1.0,
        1.8055593228630336e-35,
        0.0,
        0.0,
        0.0
      ]
    }
  ],
  "num_samples": 0,
  "samples": [],
  "end_time": "2025-12-25T10:39:43.449427",
  "duration_seconds": 11.985926
}